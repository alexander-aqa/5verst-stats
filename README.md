# 5verst-stats
collecting statistics

**–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞**: –ü–∞—Ä—Å–∏–Ω–≥ –º–æ–∏—Ö –ø—Ä–æ–±–µ–∂–µ–∫ —Å —Å–∞–π—Ç–∞ [5verst.ru](https://5verst.ru), –∞–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞.  
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Python, Playwright, Pandas (–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞), Git.

## üìå –ó–∞–¥–∞—á–∏
1. **–ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö**:
   - –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–±–µ–∂–∫–∞—Ö (–¥–∞—Ç–∞, –¥–∏—Å—Ç–∞–Ω—Ü–∏—è, –≤—Ä–µ–º—è, –º–∞—Ä—à—Ä—É—Ç).
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ CSV/SQLite.
2. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è**:
   - –ì—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ (Matplotlib/Plotly).
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞**:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ Playwright (–ª–æ–≥–∏–Ω, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏).


üìÖ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π
***************************************************************
–î–µ–Ω—å 1-2: –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –æ –ø—Ä–æ–±–µ–∂–∫–∞—Ö
–ò–∑—É—á–∏—Ç—å, –∫–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω —Å–∞–π—Ç 5verst.ru (—á–µ—Ä–µ–∑ DevTools ‚Üí Network).

–ù–∞–ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –∑–∞—Ö–æ–¥–∏—Ç –≤ –º–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∏ —Å–æ–±–∏—Ä–∞–µ—Ç:

–î–∞—Ç—ã –ø—Ä–æ–±–µ–∂–µ–∫
–î–∏—Å—Ç–∞–Ω—Ü–∏–∏
–í—Ä–µ–º—è
–¢–µ–º–ø

***************************************************************
–î–µ–Ω—å 3-4: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (CSV/SQLite)
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å pandas –∏–ª–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π csv –º–æ–¥—É–ª—å:

python
import csv
with open('runs.csv', 'w') as file:
    writer = csv.writer(file)
    writer.writerow(["Date", "Distance", "Time"])

***************************************************************
–î–µ–Ω—å 5-6: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è (Matplotlib/Plotly)
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å pip install matplotlib –∏ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—Å—Ç–æ–π –≥—Ä–∞—Ñ–∏–∫:

python
import matplotlib.pyplot as plt
plt.plot(dates, distances)
plt.savefig('runs.png')  # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≥—Ä–∞—Ñ–∏–∫

***************************************************************
–î–µ–Ω—å 7-8: Docker + GitHub Actions
–°–æ–∑–¥–∞—Ç—å Dockerfile:

dockerfile
FROM python:3.10
WORKDIR /app
COPY . .
RUN pip install playwright requests
RUN playwright install
CMD ["python", "scraper.py"]
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (—Å–æ–∑–¥–∞–π .github/workflows/main.yml).

***************************************************************
–î–µ–Ω—å 9-10: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞ 5verst (Playwright)
–ù–∞–ø–∏—Å–∞—Ç—å UI-—Ç–µ—Å—Ç—ã:

python
def test_login(page):
    page.goto("https://5verst.ru/login")
    page.fill("#email", "–≤–∞—à-email")
    page.fill("#password", "–ø–∞—Ä–æ–ª—å")
    page.click("#submit")
    assert page.url == "https://5verst.ru/dashboard"


üöÄ –ù–∞–ø–æ–º–∏–Ω–∞–ª–∫–∏ 
***************************************************************
GitHub:
.gitignore –¥–ª—è Python ‚Üí —à–∞–±–ª–æ–Ω.
GitHub Actions ‚Üí –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.

Playwright:
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å page.wait_for_selector() –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏.
–†–µ–∂–∏–º headless=False –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏.


## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
   git clone https://github.com/alexander-aqa/5verst-stats.git
   cd 5verst-stats


## üõ† –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

	bash
	python -m venv .venv
	source .venv/bin/activate  # Linux/Mac


## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

	bash
	pip install -r requirements.txt
	playwright install

üöÄ –ó–∞–ø—É—Å–∫
	–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç:
	python scraper.py

	–¢–µ—Å—Ç—ã:
	python -m pytest tests/


üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

5verst-stats/

	‚îú‚îÄ‚îÄ .venv/               # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (–Ω–µ –≤ Git)
	‚îú‚îÄ‚îÄ data/                # –î–∞–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–∂–µ–∫ (CSV)
	‚îú‚îÄ‚îÄ scraper.py           # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
	‚îú‚îÄ‚îÄ requirements.txt     # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
	‚îî‚îÄ‚îÄ README.md            # –û–ø–∏—Å–∞–Ω–∏–µ

üìà –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

	python
	# –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–∑ data/runs.csv:
		–î–∞—Ç–∞,		–î–∏—Å—Ç–∞–Ω—Ü–∏—è (–∫–º), –í—Ä–µ–º—è		–¢–µ–º–ø
		2024-05-20, 	5.2, 		00:28:15	5:30 –∫–∏–Ω/–∫–º
		2024-05-18, 	3.8,		00:21:40 	5:30 –∫–∏–Ω/–∫–º


# –≠—Ç–æ—Ç —Ñ–∞–π–ª –º–æ–∂–Ω–æ (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ/—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –º–µ—Ä–µ —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞!

	1. **–¶–µ–ª—å** ‚Äî –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç, –∑–∞—á–µ–º –≤—ã —ç—Ç–æ –¥–µ–ª–∞–µ—Ç–µ (–≤–∞–∂–Ω–æ –¥–ª—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞).  
	2. **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏** ‚Äî –ø–æ–º–æ–≥–∞–µ—Ç –º–Ω–µ (–∏, –≤–æ–∑–º–æ–∂–Ω–æ, –¥—Ä—É–≥–∏–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –ø—Ä–æ–µ–∫—Ç–∞) –±—ã—Å—Ç—Ä–æ –≤—Å–ø–æ–º–Ω–∏—Ç—å —Å—Ç–µ–∫.  
	3. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞** ‚Äî —á—Ç–æ–±—ã –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è –≤ —Ñ–∞–π–ª–∞—Ö.  
	4. **–ü—Ä–∏–º–µ—Ä—ã** ‚Äî –¥–∞–∂–µ –ø—Ä–æ—Å—Ç–æ–π –≤—ã–≤–æ–¥ –¥–∞—ë—Ç –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.  

	**–ß—Ç–æ –¥–∞–ª—å—à–µ?**  
	- –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞.  
	- –û–±–Ω–æ–≤–ª—è—Ç—å —Ä–∞–∑–¥–µ–ª **"–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞"** –ø–æ –º–µ—Ä–µ —Ä–∞–∑–≤–∏—Ç–∏—è.
	- –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –ø–æ –º–Ω–µ –ª–∏—á–Ω–æ.
	- –°–¥–µ–ª–∞—Ç—å –ø–∞—Ä—Å–∏–Ω–≥ –¥–ª—è –ª—é–±–æ–≥–æ —é–∑–µ—Ä–∞ (–∏–∑ 5_–≤—ë—Ä—Å—Ç)
	- –ü–∞—Ä—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –¥—Ä—É–≥–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (russiarunning.com)
	- –û–ø—Ä–µ–¥–µ–æ–∏—Ç—å—Å—è —Å –∫–∞—Ö–∏—Ö –µ—â–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –º–æ–∂–Ω–æ –ø–∞—Ä—Å–∏—Ç—å –¥–∞–Ω–Ω—ã–µ.


# –í–∞–∂–Ω–æ –¥–ª—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

	–ü–∞–ø–∫–∞ .venv –Ω–µ –¥–æ–ª–∂–Ω–∞ –∫–æ–º–º–∏—Ç–∏—Ç—å—Å—è (—É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω–∞ –≤ .gitignore).
	–î–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ –Ω–æ–≤–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
	pip install -r requirements.txt

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ –ø–æ–º–æ—â—å
.gitignore –¥–ª—è Python ‚Üí —à–∞–±–ª–æ–Ω.   https://github.com/github/gitignore/blob/main/Python.gitignore

GitHub Actions ‚Üí –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.   https://docs.github.com/en/actions
